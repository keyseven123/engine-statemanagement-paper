logical:
  - name: nexmark_bid
    schema:
      - type: UINT64
        name: timestamp
      - type: INT32
        name: auction
      - type: INT32
        name: bidder
      - type: INT64
        name: datetime
      - type: FLOAT64
        name: price
  - name: nexmark_auction
    schema:
      - type: UINT64
        name: timestamp
      - type: INT32
        name: id
      - type: INT32
        name: initialbid
      - type: INT32
        name: reserve
      - type: INT64
        name: expires
      - type: INT32
        name: seller
      - type: INT32
        name: category
  - name: join_csv2
    schema:
      - type: UINT64
        name: id2
      - type: UINT64
        name: value2
      - type: UINT64
        name: timestamp2
  - name: join_csv
    schema:
      - type: UINT64
        name: id
      - type: UINT64
        name: value
      - type: UINT64
        name: timestamp
  - name: tcp-gen-3
    schema:
      - name: value
        type: UINT64
      - name: timestamp
        type: UINT64
      - name: seq
        type: UINT64
  - name: tcp-gen-2
    schema:
      - name: timestamp
        type: UINT64
      - name: seq
        type: UINT64
nodes:
  - connection: 127.0.0.1:8080
    grpc: 127.0.0.1:9090
    capacity: 100
    sinks:
      - name: print
        type: Print
        config:
          inputFormat: CSV
  - connection: 127.0.0.1:8082
    capacity: 100
    grpc: 127.0.0.1:9092
    links:
      downstreams:
        - 127.0.0.1:8080
      upstreams:
        - 127.0.0.1:8084
  - connection: 127.0.0.1:8081
    grpc: 127.0.0.1:9091
    capacity: 100
    links:
      downstreams:
        - 127.0.0.1:8080
      upstreams:
        - 127.0.0.1:8083

  - connection: 127.0.0.1:8084
    grpc: 127.0.0.1:9094
    capacity: 0
    physical:
      - logical: nexmark_bid
        parserConfig:
          type: CSV
        sourceConfig:
          type: File
          filePath: "/home/ls/Downloads/bid.csv"

  - connection: 127.0.0.1:8083
    grpc: 127.0.0.1:9093
    capacity: 0
    physical:
      - logical: nexmark_auction
        parserConfig:
          type: CSV
        sourceConfig:
          type: File
          filePath: "/home/ls/Downloads/auction.csv"
