---
title: "R Notebook"
output: html_notebook
---

This is an [R Markdown](http://rmarkdown.rstudio.com) Notebook. When you execute code within the notebook, the results appear beneath the code. 

Try executing this chunk by clicking the *Run* button within the chunk or by placing your cursor inside it and pressing *Ctrl+Shift+Enter*. 

```{r}
library(dplyr)
library(curl)
library(influxdbr)
library(xts)
library(ggplot2)
```


```{r}
con <- influx_connection(host = "localhost", port = 8086)
show_databases(con = con)
```

```{r}
# fetch time series data by using the helper function `influx_select`
dfResult <- influx_select(con = con, 
                        db = "mydb", 
                        field_keys = "*", 
                        measurement = "monitoringEval",
                        where = "version = '1'",
                        limit = 0, 
                        order_desc = TRUE, 
                        return_xts = FALSE)

dfResult = dfResult[[1]]
dfResult
```

```{r}
ggplot(dfResult, aes(x=iteration, y=cpuTotalUsage, color=topology, shape=type, size=system)) + geom_point() +  scale_shape_manual(values=c(1, 3))
```

```{r}
ggplot(dfResult, aes(x=iteration, y=rxBytes, color=topology, shape=type, size=system)) + geom_point() +  scale_shape_manual(values=c(1, 3))
```
```{r}
ggplot(dfResult, aes(x=iteration, y=txBytes, color=topology, shape=type, size=system)) + geom_point() +  scale_shape_manual(values=c(1, 3))
```

```{r}
ggplot(dfResult, aes(x=iteration, y=memoryUsage, color=topology, shape=type, size=system)) + geom_point() +  scale_shape_manual(values=c(1, 3))
```
```{r}
ggplot(dfResult, aes(x=iteration, y=`runtime_ms`, color=topology, shape=system)) + geom_point() +  scale_shape_manual(values=c(1, 3))
```

