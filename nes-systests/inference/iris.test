# name: inference/Irirs.test
# description: Simple Iris inference
# groups: [Inference]

SourceCSV stream FLOAT32 sepal_length FLOAT32 sepal_width FLOAT32 petal_length FLOAT32 petal_width TESTDATA/iris_in.csv

SINK classification VARSIZED flower
MODEL iris TEST_MODELS/model.onnx (FLOAT32 FLOAT32 FLOAT32 FLOAT32) FLOAT32 setosa FLOAT32 versicolor FLOAT32 virginica

SELECT sepal_length, sepal_width, petal_length, petal_width, iris_label(setosa, versicolor, virginica) as flower
FROM ( SELECT INFER_MODEL(iris, (sepal_length, sepal_width, petal_length, petal_width)) FROM stream)
INTO classification
----
0.0,0.000005,0.999995
0.0,0.000002,0.999998
0.002137,0.008439,0.989424
0.0,0.000002,0.999998
0.0,0.000001,0.999999
0.001589,0.006042,0.992369
0.0,0.000006,0.999994
0.0,0.0,1.0
0.000642,0.003981,0.995377
0.000001,0.000015,0.999984
0.0,0.0,1.0
0.000327,0.002478,0.997195
0.0,0.000004,0.999996
0.0,0.0,1.0
0.00032,0.002676,0.997004
0.0,0.000002,0.999998
0.0,0.000001,0.999999
0.002602,0.00694,0.990458
0.0,0.000002,0.999998
0.0,0.000001,0.999999
0.001301,0.004725,0.993974
0.0,0.000007,0.999993
0.0,0.000002,0.999998
0.002737,0.005988,0.991275
0.0,0.000002,0.999998
0.0,0.000001,0.999999
0.006646,0.01416,0.979195
0.0,0.000005,0.999995
0.0,0.000004,0.999996
0.002256,0.006999,0.990745
0.000001,0.000014,0.999985
0.0,0.000004,0.999996
0.000966,0.004628,0.994406
0.0,0.000003,0.999997
0.0,0.0,1.0
0.001312,0.006832,0.991856
0.0,0.000003,0.999996
0.0,0.0,1.0
0.0,0.000003,0.999997
0.0,0.0,1.0
0.0,0.000001,0.999999
0.0,0.000004,0.999996
0.0,0.0,1.0
0.0,0.0,1.0
0.000001,0.000012,0.999987
0.0,0.0,1.0
0.0,0.000005,0.999995
0.0,0.000004,0.999996
0.0,0.0,1.0
0.0,0.000002,0.999998
0.000001,0.000011,0.999987
0.0,0.0,1.0
0.0,0.000001,0.999999
0.000001,0.000012,0.999987
0.0,0.0,1.0
0.0,0.000001,0.999999
0.000001,0.000006,0.999993
0.0,0.0,1.0
0.0,0.000002,0.999998
0.000006,0.000046,0.999948
0.0,0.0,1.0
0.0,0.000003,0.999997
0.0,0.000002,0.999998
0.0,0.0,1.0
0.0,0.0,1.0
0.000003,0.000013,0.999984
0.0,0.0,1.0
0.0,0.000006,0.999994
0.0,0.000003,0.999997
0.0,0.0,1.0
0.0,0.000003,0.999997
0.0,0.000006,0.999993
0.0,0.0,1.0
0.0,0.000012,0.999988
0.000003,0.000023,0.999974
0.0,0.0,1.0
0.0,0.0,1.0
0.0,0.0,1.0
0.0,0.0,1.0
0.000002,0.00004,0.999959
0.0,0.0,1.0
0.0,0.0,1.0
0.0,0.0,1.0
0.0,0.000001,0.999999
0.0,0.0,1.0
0.0,0.000004,0.999996
0.0,0.0,1.0
0.0,0.0,1.0
0.0,0.0,1.0
0.0,0.000001,0.999999
0.0,0.0,1.0
0.0,0.0,1.0
0.0,0.000001,0.999999
0.0,0.0,1.0
0.0,0.000002,0.999998
0.0,0.000001,0.999999
0.0,0.0,1.0
0.0,0.0,1.0
0.0,0.0,1.0
0.0,0.0,1.0
0.0,0.000003,0.999997
0.0,0.0,1.0
0.0,0.0,1.0
0.0,0.000001,0.999999
0.0,0.000001,0.999999
0.0,0.0,1.0
0.0,0.000003,0.999997
0.0,0.0,1.0
0.0,0.0,1.0
0.0,0.000003,0.999997
0.0,0.000001,0.999999
0.0,0.0,1.0
0.954462,0.019323,0.026215
0.130205,0.778367,0.091427
0.130205,0.778367,0.091427
0.130205,0.778367,0.091427
0.130205,0.778367,0.091427
0.130205,0.778367,0.091427
0.130205,0.778367,0.091427
0.130205,0.778367,0.091427
0.130205,0.778367,0.091427
0.130205,0.778367,0.091427
0.130205,0.778367,0.091427
0.130205,0.778367,0.091427
0.130205,0.778367,0.091427
0.130205,0.778367,0.091427
0.130205,0.778367,0.091427
0.130205,0.778367,0.091427
0.130205,0.778367,0.091427
0.130205,0.778367,0.091427
0.130205,0.778367,0.091427
0.130205,0.778367,0.091427
0.130205,0.778367,0.091427
0.130205,0.778367,0.091427
0.130205,0.778367,0.091427
0.130205,0.778367,0.091427
0.130205,0.778367,0.091427
0.130205,0.778367,0.091427
0.130205,0.778367,0.091427
0.130205,0.778367,0.091427
0.130205,0.778367,0.091427
0.130205,0.778367,0.091427
0.130205,0.778367,0.091427
0.130205,0.778367,0.091427
0.130205,0.778367,0.091427
0.130205,0.778367,0.091427
0.130205,0.778367,0.091427
0.130205,0.778367,0.091427
0.130205,0.778367,0.091427
0.130205,0.778367,0.091427
