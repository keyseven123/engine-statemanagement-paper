# ~~~ Configurations for the NES E2E Benchmark ~~~
numberOfWorkerThreads: 1
numberOfBuffersInGlobalBufferManager: 16384
numberOfBuffersPerPipeline: 1024
numberOfBuffersInSourceLocalBufferPool: 1024
bufferSizeInBytes: 131072
numberOfPreAllocatedBuffer: 1000

numberOfQueriesToDeploy: 1
windowingStrategy: Slicing,Bucketing
#windowingStrategy: Bucketing
#windowingStrategy: Bucketing
# ~~~ Benchmark parameter for the entire run ~~~
numberOfBuffersToProduce: 100000000
logLevel: LOG_NONE
experimentMeasureIntervalInSeconds: 1
startupSleepIntervalInSeconds: 3
numberOfMeasurementsToCollect: 10

logicalSources:
  - name: ysb
    type: YSB
    numberOfPhysicalSources: 1

dataProviderMode: ZeroCopy
outputFile: YSBQuery.csv
benchmarkName: YSBQuery
#query: 'Query::from("ysb").filter(Attribute("event_type") < 1).window(SlidingWindow::of(IngestionTime(), Seconds(1), Seconds(1))).byKey(Attribute("campaign_id")).apply(Sum(Attribute("user_id"))).sink(NullOutputSinkDescriptor::create());'
#query: 'Query::from("ysb").filter(Attribute("event_type") < 1).window(SlidingWindow::of(IngestionTime(), Milliseconds(200), Milliseconds(200))).byKey(Attribute("campaign_id")).apply(Sum(Attribute("user_id"))).sink(NullOutputSinkDescriptor::create());@Query::from("ysb").filter(Attribute("event_type") < 1).window(SlidingWindow::of(IngestionTime(), Milliseconds(200), Milliseconds(100))).byKey(Attribute("campaign_id")).apply(Sum(Attribute("user_id"))).sink(NullOutputSinkDescriptor::create());@Query::from("ysb").filter(Attribute("event_type") < 1).window(SlidingWindow::of(IngestionTime(), Milliseconds(200), Milliseconds(50))).byKey(Attribute("campaign_id")).apply(Sum(Attribute("user_id"))).sink(NullOutputSinkDescriptor::create());@Query::from("ysb").filter(Attribute("event_type") < 1).window(SlidingWindow::of(IngestionTime(), Milliseconds(200), Milliseconds(40))).byKey(Attribute("campaign_id")).apply(Sum(Attribute("user_id"))).sink(NullOutputSinkDescriptor::create());@Query::from("ysb").filter(Attribute("event_type") < 1).window(SlidingWindow::of(IngestionTime(), Milliseconds(200), Milliseconds(20))).byKey(Attribute("campaign_id")).apply(Sum(Attribute("user_id"))).sink(NullOutputSinkDescriptor::create());@Query::from("ysb").filter(Attribute("event_type") < 1).window(SlidingWindow::of(IngestionTime(), Milliseconds(200), Milliseconds(10))).byKey(Attribute("campaign_id")).apply(Sum(Attribute("user_id"))).sink(NullOutputSinkDescriptor::create());@Query::from("ysb").filter(Attribute("event_type") < 1).window(SlidingWindow::of(IngestionTime(), Milliseconds(200), Milliseconds(4))).byKey(Attribute("campaign_id")).apply(Sum(Attribute("user_id"))).sink(NullOutputSinkDescriptor::create());@Query::from("ysb").filter(Attribute("event_type") < 1).window(SlidingWindow::of(IngestionTime(), Milliseconds(200), Milliseconds(2))).byKey(Attribute("campaign_id")).apply(Sum(Attribute("user_id"))).sink(NullOutputSinkDescriptor::create());'
#query: 'Query::from("ysb").filter(Attribute("event_type") < 1).window(SlidingWindow::of(IngestionTime(), Seconds(200), Seconds(200))).byKey(Attribute("campaign_id")).apply(Sum(Attribute("user_id"))).sink(NullOutputSinkDescriptor::create());@Query::from("ysb").filter(Attribute("event_type") < 1).window(SlidingWindow::of(IngestionTime(), Seconds(200), Seconds(100))).byKey(Attribute("campaign_id")).apply(Sum(Attribute("user_id"))).sink(NullOutputSinkDescriptor::create());@Query::from("ysb").filter(Attribute("event_type") < 1).window(SlidingWindow::of(IngestionTime(), Seconds(200), Seconds(50))).byKey(Attribute("campaign_id")).apply(Sum(Attribute("user_id"))).sink(NullOutputSinkDescriptor::create());@Query::from("ysb").filter(Attribute("event_type") < 1).window(SlidingWindow::of(IngestionTime(), Seconds(200), Seconds(40))).byKey(Attribute("campaign_id")).apply(Sum(Attribute("user_id"))).sink(NullOutputSinkDescriptor::create());@Query::from("ysb").filter(Attribute("event_type") < 1).window(SlidingWindow::of(IngestionTime(), Seconds(200), Seconds(20))).byKey(Attribute("campaign_id")).apply(Sum(Attribute("user_id"))).sink(NullOutputSinkDescriptor::create());@Query::from("ysb").filter(Attribute("event_type") < 1).window(SlidingWindow::of(IngestionTime(), Seconds(200), Seconds(10))).byKey(Attribute("campaign_id")).apply(Sum(Attribute("user_id"))).sink(NullOutputSinkDescriptor::create());@Query::from("ysb").filter(Attribute("event_type") < 1).window(SlidingWindow::of(IngestionTime(), Seconds(200), Seconds(4))).byKey(Attribute("campaign_id")).apply(Sum(Attribute("user_id"))).sink(NullOutputSinkDescriptor::create());@Query::from("ysb").filter(Attribute("event_type") < 1).window(SlidingWindow::of(IngestionTime(), Seconds(200), Seconds(2))).byKey(Attribute("campaign_id")).apply(Sum(Attribute("user_id"))).sink(NullOutputSinkDescriptor::create());'
query: 'Query::from("ysb").filter(Attribute("event_type") < 1).window(SlidingWindow::of(IngestionTime(), Seconds(2), Seconds(2))).byKey(Attribute("campaign_id")).apply(Sum(Attribute("user_id"))).sink(NullOutputSinkDescriptor::create());@Query::from("ysb").filter(Attribute("event_type") < 1).window(SlidingWindow::of(IngestionTime(), Seconds(2), Seconds(1))).byKey(Attribute("campaign_id")).apply(Sum(Attribute("user_id"))).sink(NullOutputSinkDescriptor::create());@Query::from("ysb").filter(Attribute("event_type") < 1).window(SlidingWindow::of(IngestionTime(), Seconds(2), Milliseconds(500))).byKey(Attribute("campaign_id")).apply(Sum(Attribute("user_id"))).sink(NullOutputSinkDescriptor::create());@Query::from("ysb").filter(Attribute("event_type") < 1).window(SlidingWindow::of(IngestionTime(), Seconds(2), Milliseconds(250))).byKey(Attribute("campaign_id")).apply(Sum(Attribute("user_id"))).sink(NullOutputSinkDescriptor::create());@Query::from("ysb").filter(Attribute("event_type") < 1).window(SlidingWindow::of(IngestionTime(), Seconds(2), Milliseconds(125))).byKey(Attribute("campaign_id")).apply(Sum(Attribute("user_id"))).sink(NullOutputSinkDescriptor::create());@Query::from("ysb").filter(Attribute("event_type") < 1).window(SlidingWindow::of(IngestionTime(), Seconds(2), Milliseconds(75))).byKey(Attribute("campaign_id")).apply(Sum(Attribute("user_id"))).sink(NullOutputSinkDescriptor::create());@Query::from("ysb").filter(Attribute("event_type") < 1).window(SlidingWindow::of(IngestionTime(), Seconds(2), Milliseconds(50))).byKey(Attribute("campaign_id")).apply(Sum(Attribute("user_id"))).sink(NullOutputSinkDescriptor::create());@Query::from("ysb").filter(Attribute("event_type") < 1).window(SlidingWindow::of(IngestionTime(), Seconds(2), Milliseconds(25))).byKey(Attribute("campaign_id")).apply(Sum(Attribute("user_id"))).sink(NullOutputSinkDescriptor::create());'